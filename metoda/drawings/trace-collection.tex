% Copyright (c) 2016 Grigory Rechistov <grigory.rechistov@gmail.com>
% This work is licensed under the Creative Commons Attribution-NonCommercial-ShareAlike 4.0 Worldwide.
% To view a copy of this license, visit http://creativecommons.org/licenses/by-nc-sa/4.0/.

% This file allows to produce either a separate PDF/PNG image
% See standalone documentation to understand underlying magic

\documentclass[tikz,convert={density=150,size=600,outext=.png}]{standalone}
\usetikzlibrary{shapes, calc, arrows, fit, positioning, decorations, patterns, decorations.pathreplacing, chains, snakes}
\input{../setup-web-fonts}
\input{../setup-packages}
\graphicspath{{../pictures/}} % path to pictures, trailing slash is mandatory.

% The actual drawing follows
\begin{document}
    \begin{tikzpicture}[font=\small, >=latex]
    \node[draw] (extern-input) {Внешний ввод};
    \node[draw, circle, right=of extern-input] (splitter) {};
    \draw     (splitter.west) -- (splitter.center);
    \draw[->] (splitter.center) -- (splitter.east);
    \draw[->] (splitter.center) -- (splitter.south);
    
    \node[draw, below=0.5cm of splitter] (recorder) {Запись};
    \node[draw, right=of splitter] (sim1) {Симулятор};
    \node[draw, tape, below=1cm of extern-input] (trace) {Трасса};
    \node[draw, below=1cm of sim1] (sim2) {Симулятор};
    
    \draw[->] (extern-input) -- (splitter);
    \draw[->] (splitter) -- (recorder);
    \draw[->] (splitter) -- (sim1);
    \draw[->] (recorder) -| (trace);
    \draw[->] (trace) -- (sim2);
        
    \end{tikzpicture}


\end{document}
