% Copyright (c) 2016 Grigory Rechistov <grigory.rechistov@gmail.com>
% This work is licensed under the Creative Commons Attribution-NonCommercial-ShareAlike 4.0 Worldwide.
% To view a copy of this license, visit http://creativecommons.org/licenses/by-nc-sa/4.0/.

% This file allows to produce either a separate PDF/PNG image
% See standalone documentation to understand underlying magic

\documentclass[tikz,convert={density=150,size=600,outext=.png}]{standalone}
\usetikzlibrary{shapes, calc, arrows, fit, positioning, decorations, patterns, decorations.pathreplacing, chains, snakes}
\input{../setup-web-fonts}
\input{../setup-packages}
\graphicspath{{../pictures/}} % path to pictures, trailing slash is mandatory.

% The actual drawing follows
\begin{document}
    \begin{tikzpicture}[>=latex, font=\scriptsize, scale=0.8]
    
    \node[align=right, anchor=east] at (0, 0) {Поток 1};
    \node[align=right, anchor=east] at (0,-1) {Поток 2};
    \node[align=right, anchor=east] at (0,-2) {Поток 3};
    \node[align=right, anchor=east] at (0,-3) {Поток 4};
    % epoch 1
    \draw[->, thick] (0,0) -- (2, 0);
    \draw[-, dashed] (2,0) -- (4, 0);
    
    \draw[->, thick] (0,-1) -- (3, -1);
    \draw[-, dashed] (3,-1) -- (4, -1);

    \draw[->, thick] (0,-2) -- (4, -2);
    \draw[-, dashed] (4,-2) -- (4, -2);
    
    \draw[->, thick] (0,-3) -- (1, -3);
    \draw[-, dashed] (1,-3) -- (4, -3);
    
    %epoch 2
    \draw[->, thick] (0+5,0) -- (3+5, 0);
    \draw[-, dashed] (3+5,0) -- (4+5, 0);
    
    \draw[->, thick] (0+5,-1) -- (4+5, -1);
    \draw[-, dashed] (4+5,-1) -- (4+5, -1);

    \draw[->, thick] (0+5,-2) -- (1+5, -2);
    \draw[-, dashed] (1+5,-2) -- (4+5, -2);
    
    \draw[->, thick] (0+5,-3) -- (2+5, -3);
    \draw[-, dashed] (2+5,-3) -- (4+5, -3);

    %barrier 0
    \draw[dashdotted] (0,1) -- (0,-4);
    %barrier 1
    \draw[dashdotted] (4,1) -- (4,-4);
    \draw[dashdotted] (5,-4) -- (5,1) node[sloped,midway, above] {Барьер};
    
    %barrier 2
    \draw[dashdotted] (4+5,1) -- (4+5,-4);
    \draw[dashdotted] (5+5,-4) -- (5+5,1) node[sloped,midway, above] {Барьер};
    
    \end{tikzpicture}


\end{document}
